{"ast":null,"code":"import * as actionTypes from \"../../actions/cart/types\";\nconst initialState = {\n  item: [],\n  itemPriceTotal: 0,\n  totalItems: 0,\n  totalQuantity: 0\n};\nexport const cart = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.ADD_CART_ITEM:\n      let item_exists = state.item.find(x => x.Id === action.data.Id);\n      if (item_exists) {\n        item_exists.quantity += action.data.quantity || 1;\n        item_exists.itemtotal = item_exists.price * item_exists.quantity;\n        return {\n          ...state,\n          itemPriceTotal: state.item.reduce((a, b) => a + b.itemtotal || 0, 0),\n          totalItems: state.item.length,\n          totalQuantity: state.item.reduce((a, b) => a + b.quantity || 0, 0)\n        };\n      } else {\n        let tmpdata = action.data;\n        tmpdata.quantity = action.data.quantity || 1;\n        tmpdata.itemtotal = tmpdata.price * tmpdata.quantity;\n        return {\n          ...state,\n          item: [...state.item, tmpdata],\n          itemPriceTotal: state.item.reduce((a, b) => a + b.itemtotal || 0, 0) + tmpdata.itemtotal,\n          totalItems: state.item.length + 1,\n          totalQuantity: state.item.reduce((a, b) => a + b.quantity || 0, 0) + tmpdata.quantity\n        };\n      }\n    case actionTypes.REMOVE_CART_ITEM:\n      let tmpItem = state.item;\n      tmpItem = tmpItem.filter(x => x.Id !== action.data.Id);\n      return {\n        ...state,\n        item: [...tmpItem],\n        itemPriceTotal: tmpItem.reduce((a, b) => a + b.itemtotal || 0, 0),\n        totalItems: tmpItem.length,\n        totalQuantity: tmpItem.reduce((a, b) => a + b.quantity || 0, 0)\n      };\n    case actionTypes.EMPTY_CART_ITEM:\n      return {\n        ...state,\n        item: [],\n        itemPriceTotal: 0,\n        totalItems: 0,\n        totalQuantity: 0\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["actionTypes","initialState","item","itemPriceTotal","totalItems","totalQuantity","cart","state","action","type","ADD_CART_ITEM","item_exists","find","x","Id","data","quantity","itemtotal","price","reduce","a","b","length","tmpdata","REMOVE_CART_ITEM","tmpItem","filter","EMPTY_CART_ITEM"],"sources":["C:/Users/Dell/Desktop/ECommerce/estore/src/redux/reducers/cart/index.js"],"sourcesContent":["import * as actionTypes from \"../../actions/cart/types\";\r\n\r\nconst initialState = {\r\n  item: [],\r\n  itemPriceTotal: 0,\r\n  totalItems: 0,\r\n  totalQuantity: 0,\r\n};\r\n\r\nexport const cart = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.ADD_CART_ITEM:\r\n      let item_exists = state.item.find((x) => x.Id === action.data.Id);\r\n      if (item_exists) {\r\n        item_exists.quantity += action.data.quantity || 1;\r\n        item_exists.itemtotal = item_exists.price * item_exists.quantity;\r\n        return {\r\n          ...state,\r\n          itemPriceTotal: state.item.reduce((a, b) => a + b.itemtotal || 0, 0),\r\n          totalItems: state.item.length,\r\n          totalQuantity: state.item.reduce((a, b) => a + b.quantity || 0, 0),\r\n        };\r\n      } else {\r\n        let tmpdata = action.data;\r\n        tmpdata.quantity = action.data.quantity || 1;\r\n        tmpdata.itemtotal = tmpdata.price * tmpdata.quantity;\r\n\r\n        return {\r\n          ...state,\r\n          item: [...state.item, tmpdata],\r\n          itemPriceTotal:\r\n            state.item.reduce((a, b) => a + b.itemtotal || 0, 0) +\r\n            tmpdata.itemtotal,\r\n          totalItems: state.item.length + 1,\r\n          totalQuantity:\r\n            state.item.reduce((a, b) => a + b.quantity || 0, 0) +\r\n            tmpdata.quantity,\r\n        };\r\n      }\r\n    case actionTypes.REMOVE_CART_ITEM:\r\n      let tmpItem = state.item;\r\n      tmpItem = tmpItem.filter((x) => x.Id !== action.data.Id);\r\n      return {\r\n        ...state,\r\n        item: [...tmpItem],\r\n        itemPriceTotal: tmpItem.reduce((a, b) => a + b.itemtotal || 0, 0),\r\n        totalItems: tmpItem.length,\r\n        totalQuantity: tmpItem.reduce((a, b) => a + b.quantity || 0, 0),\r\n      };\r\n    case actionTypes.EMPTY_CART_ITEM:\r\n      return {\r\n        ...state,\r\n        item: [],\r\n        itemPriceTotal: 0,\r\n        totalItems: 0,\r\n        totalQuantity: 0,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}