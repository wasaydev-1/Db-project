{"ast":null,"code":"import axios from \"axios\";\nimport * as actionTypes from \"./types\";\nexport const addCartItem = data => async dispatch => {\n  dispatch(_addCartItem(data));\n};\nexport const _addCartItem = data => {\n  return {\n    type: actionTypes.ADD_CART_ITEM,\n    data\n  };\n};\nexport const removeCartItem = data => async dispatch => {\n  dispatch(_removeCartItem(data));\n};\nexport const _removeCartItem = data => {\n  return {\n    type: actionTypes.REMOVE_CART_ITEM,\n    data\n  };\n};\nexport const payment = objPay => async dispatch => {\n  await axios({\n    method: \"post\",\n    url: \"http://localhost:5000/api/pay\",\n    data: objPay\n  }).then(res => {\n    console.log(res);\n    launchPaymentDialog(res.data.params);\n  });\n};\nconst launchPaymentDialog = payParams => {\n  const bolt = window.bolt;\n  console.log(bolt, payParams);\n  bolt.launch({\n    hash: payParams.hash,\n    txnid: payParams.txnid.toString(),\n    key: payParams.key,\n    amount: payParams.amount,\n    firstname: payParams.firstname,\n    email: payParams.email,\n    phone: payParams.phone,\n    productinfo: payParams.productinfo,\n    surl: payParams.surl,\n    furl: payParams.furl,\n    lastname: payParams.lastname,\n    country: payParams.country,\n    zipcode: payParams.zipcode,\n    udf1: payParams.udf1,\n    udf2: payParams.udf2,\n    udf3: payParams.udf3,\n    udf4: payParams.udf4,\n    udf5: payParams.udf5,\n    pg: payParams.pg\n  }, {\n    responseHandler: async BOLT => {\n      console.log(\"RESPONSE\", BOLT.response);\n      let queryString = \"provider=PAYU&\";\n      Object.entries(BOLT.response).forEach(([key, value]) => {\n        queryString += key + \"=\" + value + \"&\";\n      });\n      queryString = queryString.slice(0, -1);\n      window.location.href = `http://localhost:3000/paymentresponse?${queryString}`;\n    },\n    catchException: BOLT => {\n      console.log(\"ERROR\", BOLT.message);\n    }\n  });\n};","map":{"version":3,"names":["axios","actionTypes","addCartItem","data","dispatch","_addCartItem","type","ADD_CART_ITEM","removeCartItem","_removeCartItem","REMOVE_CART_ITEM","payment","objPay","method","url","then","res","console","log","launchPaymentDialog","params","payParams","bolt","window","launch","hash","txnid","toString","key","amount","firstname","email","phone","productinfo","surl","furl","lastname","country","zipcode","udf1","udf2","udf3","udf4","udf5","pg","responseHandler","BOLT","response","queryString","Object","entries","forEach","value","slice","location","href","catchException","message"],"sources":["C:/Users/Dell/Desktop/ECommerce/estore/src/redux/actions/cart/index.js"],"sourcesContent":["import axios from \"axios\";\r\nimport * as actionTypes from \"./types\";\r\n\r\nexport const addCartItem = (data) => async (dispatch) => {\r\n  dispatch(_addCartItem(data));\r\n};\r\n\r\nexport const _addCartItem = (data) => {\r\n  return {\r\n    type: actionTypes.ADD_CART_ITEM,\r\n    data,\r\n  };\r\n};\r\n\r\nexport const removeCartItem = (data) => async (dispatch) => {\r\n  dispatch(_removeCartItem(data));\r\n};\r\n\r\nexport const _removeCartItem = (data) => {\r\n  return {\r\n    type: actionTypes.REMOVE_CART_ITEM,\r\n    data,\r\n  };\r\n};\r\n\r\nexport const payment = (objPay) => async (dispatch) => {\r\n  await axios({\r\n    method: \"post\",\r\n    url: \"http://localhost:5000/api/pay\",\r\n    data: objPay,\r\n  }).then((res) => {\r\n    console.log(res);\r\n\r\n    launchPaymentDialog(res.data.params);\r\n  });\r\n};\r\n\r\nconst launchPaymentDialog = (payParams) => {\r\n  const bolt = window.bolt;\r\n  console.log(bolt, payParams);\r\n  bolt.launch(\r\n    {\r\n      hash: payParams.hash,\r\n      txnid: payParams.txnid.toString(),\r\n      key: payParams.key,\r\n      amount: payParams.amount,\r\n      firstname: payParams.firstname,\r\n      email: payParams.email,\r\n      phone: payParams.phone,\r\n      productinfo: payParams.productinfo,\r\n      surl: payParams.surl,\r\n      furl: payParams.furl,\r\n      lastname: payParams.lastname,\r\n      country: payParams.country,\r\n      zipcode: payParams.zipcode,\r\n      udf1: payParams.udf1,\r\n      udf2: payParams.udf2,\r\n      udf3: payParams.udf3,\r\n      udf4: payParams.udf4,\r\n      udf5: payParams.udf5,\r\n      pg: payParams.pg,\r\n    },\r\n    {\r\n      responseHandler: async (BOLT) => {\r\n        console.log(\"RESPONSE\", BOLT.response);\r\n        let queryString = \"provider=PAYU&\";\r\n        Object.entries(BOLT.response).forEach(([key, value]) => {\r\n          queryString += key + \"=\" + value + \"&\";\r\n        });\r\n\r\n        queryString = queryString.slice(0, -1);\r\n\r\n        window.location.href = `http://localhost:3000/paymentresponse?${queryString}`;\r\n      },\r\n      catchException: (BOLT) => {\r\n        console.log(\"ERROR\", BOLT.message);\r\n      },\r\n    }\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}